# 计算机网络自顶向下方法 —— 计算机网络和因特网


## 协议层次

各层的所有协议被称为协议栈（protocol stack）。因特网的协议栈由 5 个层次组成：物理层、链路层、网络层、运输层和应用层。

{{< image src="/images/computer_networking/01_01.jpg" caption="因特网 5 层协议栈" title="因特网 5 层协议栈" >}}

### 应用层

应用层是网络应用程序及它们的应用层协议存留的地方。因特网的应用层包括许多协议，例如 HTTP（它提供了 Web 文档的请求和传送）、SMTP（它提供了电子邮件报文的传输）和FTP（它提供两个端系统之间的文件传送）。

应用层协议分布在多个端系统上，而一个端系统中的应用程序使用协议与另一个端系统中的应用程序交换信息分组。我们把这种位于应用层的信息分组称为**报文**（message）。

### 运输层

因特网的运输层在应用程序端点之间传送应用层报文。在因特网中，有两种运输协议，即 TCP 和 UDP，利用其中的任一个都能运输应用层报文。

我们把运输层的分组称为**报文段** (segment) 。

### 网络层

因特网的网络层负责将称为**数据报**（datagram）的网络层分组从一台主机移动到另一台主机。

因特网的网络层包括著名的网际协议 IP，该协议定义了在数据报中的各个字段以及端系统和路由器如何作用于这些字段。

### 链路层

因特网的网络层通过源和目的地之间的一系列路由器路由数据报。为了将分组从一个节点（主机或路由器）移动到路径上的下一个节点，网络层必须依靠该链路层的服务。特别是在每个节点，网络层将数据报下传给链路层，链路层沿着路径将数据报传递给下一个节点。在该下一个节点，链路层将数据报上传给网络层。

路层的例子包括以太网、WiFi 和电缆接入网的 DOCSIS 协议。

我们把链路层分组称为**帧**（frame）。

### 物理层

链路层的任务是将整个帧从一个网络元素移动到邻近的网络元素，而物理层的任务是将该帧中的**一个个比特**从一个节点移动到下一个节点。

---

## 封装

{{< image src="/images/computer_networking/01_02.jpg" caption="主机、路由器和链路层交换机，每个包含不同层" title="主机、路由器和链路层交换机，每个包含不同层" >}}

---

